<div class="popup">
    <p class="popup-title" mat-dialog-title>{{this.data && this.data.isEdit ? '編輯優惠券': '新增優惠券'}}</p>
    <div class="popup-scrollbar-box" [formGroup]="formData">
        <perfect-scrollbar  class="popup-scrollbar">
            <div class="popup-form">
                <mat-form-field class="popup-form__input" floatLabel="always">
                    <input type="text" formControlName="name" matInput placeholder="優惠券名稱" required>
                    <mat-error *ngIf="formData.get('name').hasError('maxlength')">名稱最多200字</mat-error>
                    <mat-error *ngIf="formData.get('name').hasError('required')">請輸入優惠券</mat-error>
                </mat-form-field>
                <mat-slide-toggle class="popup-form__slide" formControlName="isOpened" color="primary" labelPosition="before">啟用</mat-slide-toggle>
            </div>
            <div class="popup-form">
                <mat-form-field class="popup-form__input" floatLabel="always">
                    <input type="text" formControlName="code" matInput placeholder="折扣碼" required>
                    <mat-error *ngIf="formData.get('code').hasError('required')">請輸入折扣碼</mat-error>
                </mat-form-field>
                <mat-form-field class="popup-form__input" floatLabel="always">
                    <input type="number" formControlName="percent" matInput placeholder="折扣(%)" required>
                    <mat-error *ngIf="formData.get('percent').hasError('required')">請輸入折扣</mat-error>
                </mat-form-field>
            </div>
        </perfect-scrollbar>
    </div>
    <mat-dialog-actions class="popup-buttons">
        <button class="popup-button" mat-dialog-close color="warn">取消</button>
        <button class="popup-button" [class.popup-button_disabled]="showConfirm()" color="primary" (click)="addProduct()">{{this.data && this.data.isEdit ? '編輯': '新增'}}</button>
    </mat-dialog-actions>
    <div class="popup-close">
        <button class="popup-button-close" mat-dialog-close color="warn">
            <i class="fas fa-times"></i>
        </button>
    </div>
</div>
